<div class="flex flex-col h-screen overflow-hidden">
    <!-- #region: Brandingbar -->
    <nav class="bg-primary p-4 flex justify-between items-center fixed w-full top-0 z-50 !navbar" #brandingbar>
        <div class="flex items-center gap-4">

            <!-- #region: Left sidenav toggle button -->
            <button class="flex items-center px-4 py-2 hover:bg-neutral rounded transition-colors"
                    (click)="toggleSidenav(sidebarLeftPostion)">
                <ng-container *ngIf="leftSidenavState === sidebarClosed">
                    <svg class="fill-accent" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                         width="24px">
                        <path d="M360-120v-720h80v720h-80Zm160-160v-400l200 200-200 200Z" />
                    </svg>
                </ng-container>
                <ng-container *ngIf="leftSidenavState === sidebarIcons">
                    <svg class="fill-accent" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                         width="24px">
                        <path d="M440-280v-400L240-480l200 200Zm80 160h80v-720h-80v720Z" />
                    </svg>
                </ng-container>
                <ng-container *ngIf="leftSidenavState === sidebarExpanded">
                    <svg class="fill-accent" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                         width="24px">
                        <path
                              d="M240-120v-120H120v-80h200v200h-80Zm400 0v-200h200v80H720v120h-80ZM120-640v-80h120v-120h80v200H120Zm520 0v-200h80v120h120v80H640Z" />
                    </svg>
                </ng-container>
            </button>
            <!-- #endregion -->

            <!-- #region: Organization logo -->
            <a class="btn btn-ghost normal-case text-xl hidden md:flex"><img
                     [src]="config?.brandingbar?.organizationLogo" alt="User Profile Image" style="height: 25px;" /></a>
            <!-- #endregion -->

            <!-- #region: Application name -->
            <a
               class="text-secondary-content btn btn-ghost normal-case text-xl">{{config?.brandingbar?.applicationName}}</a>
            <!-- #endregion -->

        </div>

        <div class="navbar-end flex items-center space-x-2">
            <!-- #region: Theme selector -->
            <app-theme-selector [initialTheme]="getInitialTheme()"
                                (themeChange)="onThemeChange($event)"></app-theme-selector>
            <!-- #endregion  -->

            <!-- #region: User profile image -->
            <div class="dropdown dropdown-end z-40 hidden md:flex" *ngIf="config?.brandingbar?.userProfileImagePath">
                <button tabindex="0" class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full">
                        <img [src]="config?.brandingbar?.userProfileImagePath" alt="User Profile Image" />
                    </div>
                </button>
                <ul tabindex="0" class="dropdown-content menu menu-sm bg-base-100 rounded-box mt-3 w-52 p-2 shadow">
                    <li *ngFor="let item of userProfileMenuItems">
                        <a (click)="onUserProfileMenuItemClick(item)">{{
                            item.label
                            }}</a>
                    </li>
                </ul>
            </div>
            <!-- #endregion  -->

            <!-- #region: Right sidenav toggle button -->
            <button class="flex items-center px-4 py-2 hover:bg-neutral rounded transition-colors"
                    (click)="toggleSidenav(sidebarRightPostion)">
                <ng-container *ngIf="rightSidenavState === sidebarClosed">
                    <svg class="fill-accent" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                         width="24px">
                        <path d="M440-280v-400L240-480l200 200Zm80 160h80v-720h-80v720Z" />
                    </svg>
                </ng-container>
                <ng-container *ngIf="rightSidenavState === sidebarExpanded">
                    <svg class="fill-accent" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                         width="24px">
                        <path d="M360-120v-720h80v720h-80Zm160-160v-400l200 200-200 200Z" />
                    </svg>
                </ng-container>
            </button>
            <!-- #endregion -->

        </div>
    </nav>
    <!-- #endregion -->

    <!-- #region: SMT -->
    <div class="flex flex-grow overflow-hidden" [style.paddingTop]="brandingbar.offsetHeight+'px'">
        <!-- Left sidenav -->
        <div class="bg-primary-content transition-all duration-500 ease-in-out h-full overflow-y-auto flex-shrink-0"
            *ngIf="config?.leftSidenavMenuItems"
            [ngClass]="{
            'w-64': leftSidenavState === sidebarExpanded && !isSmallScreen,
            'w-40': leftSidenavState === sidebarIcons && !isSmallScreen,
            'w-full h-full': leftSidenavState === sidebarExpanded && isSmallScreen,
            'w-0 hidden': leftSidenavState === sidebarClosed
          }">
            <ul class="rounded-box menu p-0">
                <left-sidenav-items *ngFor="let item of config?.leftSidenavMenuItems" [config]="item"
                                    [sidebarStatus]="getNextSidenavState(leftSidenavState, sidebarLeftPostion)" />
            </ul>
        </div>

        <!-- Main Content -->
        <div class="flex-grow p-6 transition-all duration-500 overflow-hidden"
             [style.marginRight]="getRightSidenavMargin()">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia a incidunt, ab esse dolor odio delectus error
            tenetur. Omnis perspiciatis inventore quos, sint quaerat sunt. Vel, recusandae? Quasi, iste voluptas.
            Eveniet, totam saepe amet officiis sed ipsum minima sapiente expedita quibusdam soluta quasi obcaecati omnis
            animi odio beatae corporis. Impedit perspiciatis vero eos odio blanditiis illum nulla fugit quod natus!
            Voluptas sit maiores, quaerat perferendis excepturi minus libero ab dolorum, voluptatum id, accusamus quod
            odio? Blanditiis deleniti omnis culpa dolorum assumenda ratione vitae, eum sed vel, nisi expedita,
            reiciendis doloremque?
            Repellendus explicabo aliquam debitis incidunt animi ducimus quae minima sit consectetur, tenetur
            voluptatibus! Sed sint delectus dicta nesciunt consequuntur id accusantium, quod, esse maxime quis officiis
            architecto aut, quidem corrupti.
            Vel perspiciatis porro veritatis vero et, accusamus nesciunt, nemo non qui aspernatur aliquid animi at totam
            quaerat. Molestias ullam autem eius, temporibus similique, minus ratione nemo culpa, illum aliquid enim.
            <router-outlet></router-outlet>
        </div>

        <!-- Right sidenav -->
        <div class="bg-primary-content transition-all duration-500 ease-in-out h-full overflow-y-auto flex-shrink-0"
             [ngClass]="{
            'w-64': rightSidenavState === sidebarExpanded && !isSmallScreen,
            'w-full h-full': rightSidenavState === sidebarExpanded && isSmallScreen,
            'w-0 hidden': rightSidenavState === sidebarClosed
          }">
            <ul class="p-4 space-y-4">
                <li class="my-2">
                    <a href="#" class="flex items-center space-x-4">
                        <span class="iconify" data-icon="ic:baseline-dashboard"></span>
                        <span *ngIf="rightSidenavState === sidebarExpanded || isSmallScreen">Dashboard</span>
                    </a>
                </li>
                <li class="my-2">
                    <a href="#" class="flex items-center space-x-4">
                        <span class="iconify" data-icon="ic:baseline-person"></span>
                        <span *ngIf="rightSidenavState === sidebarExpanded || isSmallScreen">Profile</span>
                    </a>
                </li>
            </ul>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque a quibusdam repellendus ad consectetur.
            Similique, nostrum. Omnis voluptates vero quas fugiat, ab modi, qui consequuntur sunt sit, ad tenetur
            sapiente!
        </div>
    </div>
    <!-- #endregion -->

</div>